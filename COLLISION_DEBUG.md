# üéØ –°–∏—Å—Ç–µ–º–∞ –∫—Ä—É–≥–æ–≤—ã—Ö –∫–æ–ª–ª–∏–∑–∏–π –∏ –æ—Ç–ª–∞–¥–∫–∞

## üìã –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ **–∫—Ä—É–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–ª–ª–∏–∑–∏–π** –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–æ–π (AABB), —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –∏ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π.

## üîÑ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### 1. **–ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–ª–ª–∏–∑–∏–π**

#### –î–æ (AABB - Axis-Aligned Bounding Box):
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ø—Ä–æ–∑—Ä–∞—á–Ω–æ   ‚îÇ  ‚Üê –ö–æ–ª–ª–∏–∑–∏—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∞ –∑–¥–µ—Å—å
‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ    ‚îÇ üë§ ‚îÇ    ‚îÇ  ‚Üê –í–∏–¥–∏–º—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂
‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ  –ø—Ä–æ–∑—Ä–∞—á–Ω–æ   ‚îÇ  ‚Üê –ò –∑–¥–µ—Å—å —Ç–æ–∂–µ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### –ü–æ—Å–ª–µ (–ö—Ä—É–≥–æ–≤–∞—è –∫–æ–ª–ª–∏–∑–∏—è):
```
     ‚ï±‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ï≤
   ‚ï±         ‚ï≤      ‚Üê –ö–æ–ª–ª–∏–∑–∏—è —Ç–æ–ª—å–∫–æ –≤ –∫—Ä—É–≥–µ
  ‚îÇ    üë§    ‚îÇ      ‚Üê –¢–æ—á–Ω–æ –ø–æ —Ä–∞–∑–º–µ—Ä—É –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
   ‚ï≤         ‚ï±
     ‚ï≤‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ï±
```

### 2. **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞**

–î–æ–±–∞–≤–ª–µ–Ω —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π —Ö–∏—Ç–±–æ–∫—Å–æ–≤:
- üü¢ **–ó–µ–ª–µ–Ω—ã–π –∫—Ä—É–≥** - —Ö–∏—Ç–±–æ–∫—Å –∏–≥—Ä–æ–∫–∞ (–∫—Ä—É–≥–æ–≤–∞—è –∫–æ–ª–ª–∏–∑–∏—è)
- üü† **–û—Ä–∞–Ω–∂–µ–≤—ã–µ –∫—Ä—É–≥–∏** - —Ö–∏—Ç–±–æ–∫—Å—ã –≤—Ä–∞–≥–æ–≤
- üî¥ **–ö—Ä–∞—Å–Ω—ã–π –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫** - —Å—Ç–∞—Ä—ã–π AABB —Ö–∏—Ç–±–æ–∫—Å (–¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è)
- üìù **–¢–µ–∫—Å—Ç** - —Ä–∞–∑–º–µ—Ä—ã –∏ —Ä–∞–¥–∏—É—Å—ã

## üéÆ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏

**–ö–ª–∞–≤–∏—à–∞ F3** - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏ –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã

```typescript
// –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ
player.toggleDebugMode(true);  // –í–∫–ª—é—á–∏—Ç—å
player.toggleDebugMode(false); // –í—ã–∫–ª—é—á–∏—Ç—å
player.toggleDebugMode();      // –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–ª–ª–∏–∑–∏–π

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É
2. –ù–∞–∂–º–∏—Ç–µ **F3**
3. –í—ã —É–≤–∏–¥–∏—Ç–µ:
   - –ö—Ä—É–≥–æ–≤–æ–π —Ö–∏—Ç–±–æ–∫—Å –≤–∞—à–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
   - –ö—Ä—É–≥–æ–≤—ã–µ —Ö–∏—Ç–±–æ–∫—Å—ã –≤—Å–µ—Ö –≤—Ä–∞–≥–æ–≤ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–∑–º–µ—Ä–∞—Ö

## üõ†Ô∏è API

### PlayableCharacter (Player)

#### –ú–µ—Ç–æ–¥—ã –∫—Ä—É–≥–æ–≤–æ–π –∫–æ–ª–ª–∏–∑–∏–∏:

```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —Å –¥—Ä—É–≥–∏–º –æ–±—ä–µ–∫—Ç–æ–º
player.checkCircleCollision(x: number, y: number, radius: number): boolean

// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–æ–ª–ª–∏–∑–∏–∏
player.getCircleCollisionData(): { x: number, y: number, radius: number }

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–∫–æ–π
player.toggleDebugMode(enabled?: boolean): void
player.showDebug: boolean // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏
```

#### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```typescript
const player = new Player(app);
const enemy = new Enemy(app, SpawnSide.TOP, 2);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è
const playerData = player.getCircleCollisionData();
if (enemy.checkCircleCollision(playerData.x, playerData.y, playerData.radius)) {
    console.log('Collision detected!');
    player.takeDamage(10);
}
```

### Enemy

#### –ú–µ—Ç–æ–¥—ã –∫—Ä—É–≥–æ–≤–æ–π –∫–æ–ª–ª–∏–∑–∏–∏:

```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —Å –∏–≥—Ä–æ–∫–æ–º (–Ω–æ–≤—ã–π –º–µ—Ç–æ–¥)
enemy.checkCircleCollision(playerX: number, playerY: number, playerRadius: number): boolean

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–¥–∏—É—Å–∞ –≤—Ä–∞–≥–∞
enemy.getRadius(): number

// –°—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥ AABB (deprecated, –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
enemy.checkCollision(playerBounds: PIXI.Bounds): boolean
```

## üìä –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–¥–∏—É—Å–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞

–í `components/player/PlayerConfig.ts`:

```typescript
export const DEFAULT_PLAYER_CONFIG: PlayerConfig = {
    speed: 5,
    maxHealth: 100,
    radius: 10,    // ‚Üê –†–∞–¥–∏—É—Å –∫—Ä—É–≥–æ–≤–æ–π –∫–æ–ª–ª–∏–∑–∏–∏ (–≤ –ø–∏–∫—Å–µ–ª—è—Ö)
    scale: 0.8,
    // ...
};
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- `radius: 10` - –º–∞–ª–µ–Ω—å–∫–∏–π —Ö–∏—Ç–±–æ–∫—Å (—Å–ª–æ–∂–Ω–µ–µ –ø–æ–ø–∞—Å—Ç—å)
- `radius: 20` - —Å—Ä–µ–¥–Ω–∏–π —Ö–∏—Ç–±–æ–∫—Å (–±–∞–ª–∞–Ω—Å)
- `radius: 30` - –±–æ–ª—å—à–æ–π —Ö–∏—Ç–±–æ–∫—Å (–ª–µ–≥—á–µ –ø–æ–ø–∞—Å—Ç—å)

### –†–∞–∑–º–µ—Ä—ã –≤—Ä–∞–≥–æ–≤

–†–∞–¥–∏—É—Å –≤—Ä–∞–≥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫ `size / 2`, –≥–¥–µ:
- LIGHT: `size = 15` ‚Üí `radius = 7.5`
- MEDIUM: `size = 20` ‚Üí `radius = 10`
- HEAVY: `size = 25` ‚Üí `radius = 12.5`

## üîç –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### DebugGraphics

–ö–ª–∞—Å—Å –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–ª–ª–∏–∑–∏–π:

```typescript
const debugGraphics = new DebugGraphics(app);

// –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å
debugGraphics.setVisible(true);
debugGraphics.toggle();

// –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å –∫—Ä—É–≥
debugGraphics.drawCircle(x, y, radius, color, alpha);

// –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫
debugGraphics.drawBounds(bounds, color, alpha);

// –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç
debugGraphics.drawLabel(x, y, text, color);

// –û—á–∏—Å—Ç–∏—Ç—å
debugGraphics.clear();

// –£–Ω–∏—á—Ç–æ–∂–∏—Ç—å
debugGraphics.destroy();
```

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –§–æ—Ä–º—É–ª–∞ –∫—Ä—É–≥–æ–≤–æ–π –∫–æ–ª–ª–∏–∑–∏–∏

```typescript
const dx = x1 - x2;
const dy = y1 - y2;
const distance = Math.sqrt(dx * dx + dy * dy);
const collision = distance < (radius1 + radius2);
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫—Ä—É–≥–æ–≤–æ–π –∫–æ–ª–ª–∏–∑–∏–∏

‚úÖ **–¢–æ—á–Ω–æ—Å—Ç—å** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–º—É —Ä–∞–∑–º–µ—Ä—É –ø–µ—Ä—Å–æ–Ω–∞–∂–∞  
‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –±—ã—Å—Ç—Ä–µ–µ AABB –¥–ª—è –∫—Ä—É–≥–ª—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤  
‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –ª–µ–≥—á–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å  
‚úÖ **–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å** - –∏–≥—Ä–æ–∫–∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω–∏–º–∞—é—Ç –∫—Ä—É–≥–æ–≤—ã–µ —Ö–∏—Ç–±–æ–∫—Å—ã  

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AABB

- –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (—Å—Ç–µ–Ω—ã, –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã)
- –ü—É–ª–∏ (–µ—Å–ª–∏ –æ–Ω–∏ –≤—ã—Ç—è–Ω—É—Ç—ã–µ)
- UI —ç–ª–µ–º–µ–Ω—Ç—ã

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—Ä—É–≥–æ–≤—É—é –∫–æ–ª–ª–∏–∑–∏—é

- –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ (–∏–≥—Ä–æ–∫, –≤—Ä–∞–≥–∏)
- –ö—Ä—É–≥–ª—ã–µ —Å–Ω–∞—Ä—è–¥—ã
- –í–∑—Ä—ã–≤—ã –∏ –æ–±–ª–∞—Å—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∞

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ö–æ–ª–ª–∏–∑–∏—è —Å–ª–∏—à–∫–æ–º —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è

–£–º–µ–Ω—å—à–∏—Ç–µ `radius` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```typescript
radius: 8, // –ë—ã–ª–æ: 10
```

### –ö–æ–ª–ª–∏–∑–∏—è –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è

–£–≤–µ–ª–∏—á—å—Ç–µ `radius`:

```typescript
radius: 15, // –ë—ã–ª–æ: 10
```

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–∞–∂–∞–ª–∏ F3
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `showDebug = true`

### –í—Ä–∞–≥–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –æ—Ç–ª–∞–¥–∫–µ

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≥–ª–æ–±–∞–ª—å–Ω—ã–π `debugGraphicsRef` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –≤ `Game.tsx`

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ (F3)
- –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ö—Ä—É–≥–æ–≤–∞—è –∫–æ–ª–ª–∏–∑–∏—è –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–∏–ª—å–Ω–æ –≤—ã—Ç—è–Ω—É—Ç—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- –î–ª—è —Ç–æ—á–Ω–æ–π –∫–æ–ª–ª–∏–∑–∏–∏ –ø—É–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è AABB (–ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∞—è)

## üöÄ –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –ø—É–ª—å –≤ —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–¥–∏—É—Å–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≤—Ä–∞–≥–æ–≤
- [ ] –≠–ª–ª–∏–ø—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–ª–ª–∏–∑–∏—è –¥–ª—è –≤—ã—Ç—è–Ω—É—Ç—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- [ ] –ü–æ–∫–∞–∑ –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –≤—Ä–∞–≥–∞
- [ ] –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ —á–∞—Å—Ç–æ—Ç—ã —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π

